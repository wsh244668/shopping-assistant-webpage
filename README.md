# æ‰«åœ°æœºå™¨äººè´­ä¹°é—®å·ç³»ç»Ÿ

## ğŸŒ çº¿ä¸Šè®¿é—®åœ°å€

**å‰ç«¯é¦–é¡µ**ï¼šhttp://112.126.69.86  
**ç®¡ç†åå°**ï¼šhttp://112.126.69.86/admin

---

## ğŸ”§ æœåŠ¡å™¨ç®¡ç†ï¼ˆé‡è¦ï¼‰

### å¯åŠ¨æœåŠ¡

SSH è¿æ¥åˆ°æœåŠ¡å™¨åæ‰§è¡Œï¼š
```bash
# å¯åŠ¨åç«¯
pm2 start robot-survey-backend

# å¯åŠ¨ Nginxï¼ˆç½‘ç«™æœåŠ¡ï¼‰
systemctl start nginx

# æŸ¥çœ‹çŠ¶æ€
pm2 status
systemctl status nginx
```

### åœæ­¢æœåŠ¡

```bash
# åœæ­¢åç«¯
pm2 stop robot-survey-backend

# åœæ­¢ Nginxï¼ˆåœæ­¢ç½‘ç«™è®¿é—®ï¼‰
systemctl stop nginx
```

### é‡å¯æœåŠ¡

```bash
# é‡å¯åç«¯
pm2 restart robot-survey-backend

# é‡å¯ Nginx
systemctl restart nginx
```

### æŸ¥çœ‹æ—¥å¿—

```bash
# æŸ¥çœ‹åç«¯æ—¥å¿—
pm2 logs robot-survey-backend

# æŸ¥çœ‹ Nginx æ—¥å¿—
tail -f /var/log/nginx/error.log
```

### è¿æ¥æœåŠ¡å™¨

```bash
ssh root@112.126.69.86
# è¾“å…¥å¯†ç 
```

---

## é¡¹ç›®ç®€ä»‹

è¿™æ˜¯ä¸€ä¸ªç”¨äºæ”¶é›†ç”¨æˆ·è´­ä¹°æ‰«åœ°æœºå™¨äººä¸ªæ€§åŒ–ä¿¡æ¯çš„é—®å·ç½‘ç«™ã€‚ç³»ç»ŸåŒ…å«ç”¨æˆ·ç«¯å’Œç®¡ç†å‘˜ç«¯ä¸¤éƒ¨åˆ†ã€‚

## åŠŸèƒ½æ¨¡å—

### ç”¨æˆ·ç«¯

1. **é¦–é¡µ** (`/`)
   - å±•ç¤ºå®£ä¼ è¯­å’ŒåŠŸèƒ½è¯´æ˜
   - æä¾›ã€Œå¡«å†™ä¿¡æ¯ã€æŒ‰é’®ï¼Œå¼•å¯¼ç”¨æˆ·è¿›å…¥é—®å·

2. **é—®å·é¡µ** (`/survey`)
   - æŒ‰é¡ºåºå±•ç¤ºé—®é¢˜ï¼ˆå•é€‰ã€å¤šé€‰ï¼‰
   - è®°å½•ç”¨æˆ·ç­”é¢˜è¿›åº¦
   - è‡ªåŠ¨ä¿å­˜ç”¨æˆ·ç­”æ¡ˆ

3. **ç»“æŸé¡µ** (`/complete`)
   - å±•ç¤º"æ•¬è¯·æœŸå¾…"ç­‰å®Œæˆæç¤º
   - æ„Ÿè°¢ç”¨æˆ·å‚ä¸

### ç®¡ç†å‘˜ç«¯

4. **ç»Ÿè®¡é¡µé¢** (`/admin`)
   - è®¿å®¢ç»Ÿè®¡ï¼šæ˜¾ç¤ºè¿›å…¥é¦–é¡µçš„è®¿å®¢æ•°é‡
   - å‚ä¸ç»Ÿè®¡ï¼šæ˜¾ç¤ºç‚¹å‡»è¿›å…¥é—®å·çš„ç”¨æˆ·æ•°é‡
   - å®Œæˆç»Ÿè®¡ï¼šæ˜¾ç¤ºå®Œæˆé—®å·çš„ç”¨æˆ·æ•°é‡ï¼ˆå®Œè¯»ç‡ï¼‰
   - æ•°æ®è¯¦æƒ…ï¼šç»“æ„åŒ–å±•ç¤ºæ‰€æœ‰ç”¨æˆ·å¡«å†™çš„å…·ä½“å†…å®¹

## æŠ€æœ¯æ¶æ„

### å‰ç«¯
- **æ¡†æ¶**: React 18 + Vite
- **è·¯ç”±**: React Router
- **æ ·å¼**: CSSï¼ˆæš–è‰²è°ƒè®¾è®¡ï¼Œè´´è¿‘æ—¥å¸¸ç”Ÿæ´»ï¼‰

### åç«¯
- **æ¡†æ¶**: Node.js + Express
- **æ•°æ®å­˜å‚¨**: JSON æ–‡ä»¶ï¼ˆç®€å•å¯æ§ï¼Œåç»­å¯å‡çº§ä¸ºæ•°æ®åº“ï¼‰
- **API**: RESTful API

### é¡¹ç›®ç»“æ„

```
commercialize/
â”œâ”€â”€ frontend/              # å‰ç«¯ä»£ç 
â”‚   â”œâ”€â”€ src/
â”‚   â”‚   â”œâ”€â”€ pages/        # é¡µé¢ç»„ä»¶
â”‚   â”‚   â”‚   â”œâ”€â”€ Home.jsx      # é¦–é¡µ
â”‚   â”‚   â”‚   â”œâ”€â”€ Survey.jsx    # é—®å·é¡µ
â”‚   â”‚   â”‚   â”œâ”€â”€ Complete.jsx  # ç»“æŸé¡µ
â”‚   â”‚   â”‚   â””â”€â”€ Admin.jsx     # ç®¡ç†å‘˜ç»Ÿè®¡é¡µ
â”‚   â”‚   â”œâ”€â”€ components/   # é€šç”¨ç»„ä»¶
â”‚   â”‚   â”œâ”€â”€ App.jsx       # ä¸»åº”ç”¨ç»„ä»¶
â”‚   â”‚   â””â”€â”€ main.jsx      # å…¥å£æ–‡ä»¶
â”‚   â””â”€â”€ package.json
â”œâ”€â”€ backend/              # åç«¯ä»£ç 
â”‚   â”œâ”€â”€ server.js         # æœåŠ¡å™¨ä¸»æ–‡ä»¶
â”‚   â”œâ”€â”€ routes/           # è·¯ç”±
â”‚   â”‚   â”œâ”€â”€ stats.js      # ç»Ÿè®¡ç›¸å…³æ¥å£
â”‚   â”‚   â””â”€â”€ survey.js     # é—®å·ç›¸å…³æ¥å£
â”‚   â”œâ”€â”€ data/             # æ•°æ®å­˜å‚¨ç›®å½•
â”‚   â”‚   â”œâ”€â”€ visitors.json # è®¿å®¢è®°å½•
â”‚   â”‚   â””â”€â”€ responses.json # é—®å·ç­”æ¡ˆ
â”‚   â””â”€â”€ package.json
â””â”€â”€ README.md
```

## æ•°æ®ç»Ÿè®¡è¯´æ˜

ç³»ç»Ÿä¼šè‡ªåŠ¨è®°å½•ä»¥ä¸‹æ•°æ®ï¼š

1. **è®¿å®¢è®°å½•** (`visitors.json`)
   - è®°å½•æ¯ä¸ªè®¿é—®é¦–é¡µçš„ç”¨æˆ·ï¼ˆé€šè¿‡IPæˆ–å”¯ä¸€æ ‡è¯†ï¼‰
   - æ—¶é—´æˆ³

2. **é—®å·å‚ä¸è®°å½•** (`responses.json`)
   - è®°å½•ç‚¹å‡»è¿›å…¥é—®å·çš„ç”¨æˆ·
   - è®°å½•å®Œæˆé—®å·çš„ç”¨æˆ·åŠå…¶æ‰€æœ‰ç­”æ¡ˆ
   - æ—¶é—´æˆ³

## API æ¥å£è¯´æ˜

### ç”¨æˆ·ç«¯æ¥å£

- `POST /api/visit` - è®°å½•è®¿å®¢è®¿é—®é¦–é¡µ
- `POST /api/survey/start` - è®°å½•ç”¨æˆ·å¼€å§‹å¡«å†™é—®å·
- `POST /api/survey/submit` - æäº¤é—®å·ç­”æ¡ˆ

### ç®¡ç†å‘˜ç«¯æ¥å£

- `GET /api/stats` - è·å–ç»Ÿè®¡æ•°æ®
  - è¿”å›ï¼šè®¿å®¢æ•°ã€å‚ä¸æ•°ã€å®Œæˆæ•°
- `GET /api/stats/responses` - è·å–æ‰€æœ‰é—®å·ç­”æ¡ˆè¯¦æƒ…
  - è¿”å›ï¼šæ‰€æœ‰å®Œæˆé—®å·çš„ç”¨æˆ·ç­”æ¡ˆåˆ—è¡¨

## å¼€å‘æ­¥éª¤

1. âœ… **è®¾è®¡æ•´ä½“æ¡†æ¶**ï¼ˆå·²å®Œæˆï¼‰
   - âœ… å‰ç«¯æ¡†æ¶æ­å»ºï¼ˆReact + Viteï¼‰
   - âœ… åç«¯æ¡†æ¶æ­å»ºï¼ˆNode.js + Expressï¼‰
   - âœ… ä¸‰ä¸ªç”¨æˆ·é¡µé¢ï¼ˆé¦–é¡µã€é—®å·é¡µã€ç»“æŸé¡µï¼‰
   - âœ… ç®¡ç†å‘˜ç»Ÿè®¡é¡µé¢
   - âœ… APIæ¥å£å®ç°
   - âœ… æ•°æ®å­˜å‚¨ç³»ç»Ÿ
   - âœ… æš–è‰²è°ƒUIè®¾è®¡

2. â³ **è®¾è®¡é—®å·é¡µé¢å†…å®¹å’Œæ ·å¼**ï¼ˆä¸‹ä¸€æ­¥ï¼‰
   - ç­‰å¾…ç”¨æˆ·æä¾›å…·ä½“é—®å·é—®é¢˜å†…å®¹
   - å°†é—®é¢˜å†…å®¹é›†æˆåˆ°é—®å·é¡µé¢

3. â³ **å®Œå–„ç®¡ç†å‘˜ç»Ÿè®¡é¡µé¢**
   - æ ¹æ®å®é™…é—®å·å†…å®¹ä¼˜åŒ–æ•°æ®å±•ç¤º

4. â³ **ç½‘ç«™ä¸Šçº¿å‘å¸ƒ**
   - ç”Ÿäº§ç¯å¢ƒé…ç½®
   - éƒ¨ç½²ä¸Šçº¿

## è¿è¡Œè¯´æ˜

### é¦–æ¬¡è¿è¡Œ

1. **å®‰è£…å‰ç«¯ä¾èµ–**
```bash
cd frontend
npm install
```

2. **å®‰è£…åç«¯ä¾èµ–**
```bash
cd ../backend
npm install
```

### å¼€å‘æ¨¡å¼è¿è¡Œ

éœ€è¦åŒæ—¶è¿è¡Œå‰ç«¯å’Œåç«¯ï¼š

**ç»ˆç«¯1 - å¯åŠ¨åç«¯æœåŠ¡å™¨ï¼ˆç«¯å£3001ï¼‰**
```bash
cd backend
npm start
# æˆ–ä½¿ç”¨å¼€å‘æ¨¡å¼ï¼ˆè‡ªåŠ¨é‡å¯ï¼‰
npm run dev
```

**ç»ˆç«¯2 - å¯åŠ¨å‰ç«¯å¼€å‘æœåŠ¡å™¨ï¼ˆç«¯å£3000ï¼‰**
```bash
cd frontend
npm run dev
```

å¯åŠ¨æˆåŠŸåï¼š
- å‰ç«¯è®¿é—®åœ°å€ï¼šhttp://localhost:3000
- åç«¯APIåœ°å€ï¼šhttp://localhost:3001
- ç®¡ç†å‘˜ç»Ÿè®¡é¡µï¼šhttp://localhost:3000/admin

### ç”Ÿäº§ç¯å¢ƒæ„å»º

1. **æ„å»ºå‰ç«¯**
```bash
cd frontend
npm run build
```

2. **å¯åŠ¨åç«¯ï¼ˆç”Ÿäº§æ¨¡å¼ï¼‰**
```bash
cd backend
npm start
```

## éƒ¨ç½²ä¸Šçº¿

è¯¦ç»†éƒ¨ç½²æ­¥éª¤è¯·æŸ¥çœ‹ [DEPLOYMENT.md](./DEPLOYMENT.md)

**å¿«é€Ÿéƒ¨ç½²ï¼š**
- å‰ç«¯ï¼šéƒ¨ç½²åˆ° Vercelï¼ˆè‡ªåŠ¨æ£€æµ‹ Vite é¡¹ç›®ï¼‰
- åç«¯ï¼šéƒ¨ç½²åˆ° Railwayï¼ˆè‡ªåŠ¨æ£€æµ‹ Node.js é¡¹ç›®ï¼‰

## æ•°æ®ç®¡ç†

### æŸ¥çœ‹é—®å·æ•°æ®

```bash
# æŸ¥çœ‹æ‰€æœ‰é—®å·ç­”æ¡ˆ
cat /root/shopping-assistant-webpage/backend/data/responses.json

# æŸ¥çœ‹è®¿å®¢è®°å½•
cat /root/shopping-assistant-webpage/backend/data/visitors.json
```

### å¤‡ä»½æ•°æ®

```bash
# å¤‡ä»½æ•°æ®æ–‡ä»¶
cp -r /root/shopping-assistant-webpage/backend/data /root/data-backup-$(date +%Y%m%d)
```

### æ¸…ç©ºæ•°æ®

```bash
# æ¸…ç©ºæ‰€æœ‰é—®å·æ•°æ®ï¼ˆè°¨æ…æ“ä½œï¼ï¼‰
echo "[]" > /root/shopping-assistant-webpage/backend/data/responses.json
echo "[]" > /root/shopping-assistant-webpage/backend/data/visitors.json

# é‡å¯åç«¯ä½¿æ›´æ”¹ç”Ÿæ•ˆ
pm2 restart robot-survey-backend
```

---

## æ›´æ–°ä»£ç 

å¦‚æœä¿®æ”¹äº†ä»£ç å¹¶æ¨é€åˆ° GitHubï¼Œåœ¨æœåŠ¡å™¨ä¸Šæ›´æ–°ï¼š

```bash
# è¿›å…¥é¡¹ç›®ç›®å½•
cd /root/shopping-assistant-webpage

# æ‹‰å–æœ€æ–°ä»£ç 
git pull origin main

# é‡æ–°æ„å»ºå‰ç«¯
cd frontend
npm run build
cd ..

# é‡å¯æœåŠ¡
pm2 restart robot-survey-backend
systemctl restart nginx
```

---

## æ³¨æ„äº‹é¡¹

- å½“å‰ä½¿ç”¨ HTTP åè®®ï¼Œæµè§ˆå™¨ä¼šæ˜¾ç¤º"ä¸å®‰å…¨"ï¼ˆåŠŸèƒ½æ­£å¸¸ï¼‰
- æ•°æ®å­˜å‚¨åœ¨ JSON æ–‡ä»¶ä¸­ï¼Œé€‚åˆå°è§„æ¨¡ä½¿ç”¨
- å»ºè®®å®šæœŸå¤‡ä»½æ•°æ®æ–‡ä»¶
- ç®¡ç†å‘˜é¡µé¢å»ºè®®åç»­æ·»åŠ å¯†ç ä¿æŠ¤

